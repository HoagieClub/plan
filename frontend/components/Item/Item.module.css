@keyframes pop {
  0% {
    transform: scale(1);
    box-shadow: var(--box-shadow-default);
  }
  100% {
    transform: scale(var(--scale));
    box-shadow: var(--box-shadow-picked-up);
  }
}

@keyframes fadeIn {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

.wrapper {
  @apply flex box-border relative touch-manipulation;
  transform: translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) 
             scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1));
}

.wrapper.fadeIn {
  animation: fadeIn 200ms ease;
}

.wrapper.dragOverlay {
  --scale: 1.05;
  --box-shadow-default: 0 0 0 calc(1px / var(--scale-x, 1)) rgba(63, 63, 68, 0.05),
                        0 1px calc(3px / var(--scale-x, 1)) 0 rgba(34, 33, 81, 0.15);
  --box-shadow-picked-up: 0 0 0 calc(1px / var(--scale-x, 1)) rgba(63, 63, 68, 0.05),
                         -1px 0 15px 0 rgba(34, 33, 81, 0.01),
                         0px 15px 15px 0 rgba(34, 33, 81, 0.25);
  @apply z-50;
}

.item {
  @apply relative flex grow items-center w-full p-4 rounded outline-none;
  background-image: linear-gradient(to bottom, 
    var(--color-primary, theme('colors.gray.600')), 
    var(--color-secondary, theme('colors.gray.700'))
  );
  box-shadow: var(--box-shadow-default);
  transform: scale(var(--scale, 1));
  transition: box-shadow 200ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
}

.content {
  @apply inline-block text-white font-normal text-base grow overflow-hidden;
}

.item:not(.withHandle) {
  @apply cursor-grab touch-manipulation;
}

.item.dragging:not(.dragOverlay) {
  opacity: var(--dragging-opacity, 0.5);
  @apply z-0;
}

.item.disabled {
  @apply opacity-50 cursor-not-allowed;
}

.item.dragOverlay {
  @apply cursor-inherit;
  animation: pop 200ms cubic-bezier(0.18, 0.67, 0.6, 1.22);
  transform: scale(var(--scale));
  box-shadow: var(--box-shadow-picked-up);
}

.actions {
  @apply flex items-center -mr-2.5;
}

/* Focus styles using Tailwind's ring utilities */
.item:focus-visible {
  @apply ring-2 ring-blue-500 ring-offset-2;
}
